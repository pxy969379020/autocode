<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.shulipeng.dao.OracleTableMapper">

    <!-- 查询所有表记录 -->
    <select id="list" resultType="com.shulipeng.domain.Table" >
        select
          t.table_name tableName ,
          c.comments tableComment,
          o.created createTime
        from all_tables t,user_objects o,user_tab_comments c
        where t.table_name = o.object_name
        and t.table_name = c.table_name
        order by t.table_name
    </select>

    <!-- 通过表名查询 -->
    <select id="get" resultType="com.shulipeng.domain.Table">
        select
          t.table_name tableName ,
          c.comments tableComment,
          o.created createTime
        from all_tables t,user_objects o,user_tab_comments c
        where t.table_name = o.object_name
        and t.table_name = c.table_name
        and t.table_name = #{tableName}
    </select>

    <!-- 查询一个表所有列 -->
    <select id="listColumns" resultType="com.shulipeng.domain.Column">
        select
        `column_name` columnName,
        `data_type` dataType,
        `column_comment` comment,
        `column_key` columnKey,
        `extra`
        from information_schema.columns
        where table_name = #{tableName}
        and table_schema = (select database())
        order by ordinal_position
    </select>

</mapper>